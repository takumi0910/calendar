(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{20:function(t,e,s){},21:function(t,e,s){"use strict";s.r(e);var a=s(2),i=s(1),n=s.n(i),r=s(10),c=s.n(r),o=s(4),u=s(5),l=s(3),h=s(7),d=s(6),b=s(12),p=s(11),m=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(u.a)(s,[{key:"formatDate",value:function(t){var e=new Date(t);return e.getFullYear()+"\u5e74"+(e.getMonth()+1)+"\u6708"+e.getDate()+"\u65e5"}},{key:"defaultForm",value:function(){if(null!==this.props.backups[4])return this.props.backups[4]}},{key:"render",value:function(){var t;return!1===this.props.isSubmitted&&(t=Object(a.jsx)("form",{onSubmit:this.props.handleSubmit,children:Object(a.jsx)("div",{className:"modal-back",onClick:this.props.keepModal,children:Object(a.jsxs)("div",{className:"modal ",children:[Object(a.jsxs)("div",{className:"modal-top",children:[Object(a.jsx)("button",{className:"close-button",onClick:this.props.closeModal,children:"\xd7"}),Object(a.jsx)("div",{className:"add-plans",children:"\u4e88\u5b9a\u767b\u9332"})]}),Object(a.jsxs)("div",{className:"modal-main",children:[Object(a.jsxs)("div",{className:"time",children:[Object(a.jsxs)("p",{children:["\u9078\u629e\u3057\u305f\u65e5 : ",this.formatDate(this.props.selectedDate)]}),Object(a.jsx)("p",{className:"plans-time",children:"\u4e88\u5b9a\u6642\u9593"}),Object(a.jsxs)("div",{className:"time-box",children:[this.props.Start_timeHours(),Object(a.jsx)("p",{children:":"}),this.props.Start_timeMinutes(),Object(a.jsx)("p",{children:"\uff5e"}),this.props.End_timeHours(),Object(a.jsx)("p",{children:":"}),this.props.End_timeMinutes()]}),Object(a.jsxs)("div",{className:"select-color",children:[Object(a.jsx)("p",{children:"\u4e88\u5b9a\u3092\u5165\u308c\u308b\u969b\u306e\u80cc\u666f\u8272"}),Object(a.jsx)("div",{children:this.props.tileColor()})]})]}),Object(a.jsx)("p",{className:"plan-contents",children:"\u4e88\u5b9a\u306e\u5185\u5bb9"}),Object(a.jsx)("input",Object(p.a)({defaultValue:"",required:!0,onChange:this.props.handleChange},"defaultValue",this.defaultForm())),Object(a.jsx)("input",{className:"submit-btn",type:"submit",value:"\u767b\u9332"})]})]})})})),Object(a.jsx)("div",{children:t})}}]),s}(n.a.Component),j=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(o.a)(this,s),(a=e.call(this,t)).editState=function(t){for(var e=t.target.className,s=t.target.id,i=a.state.month_days[e],n=0;n<i.length;n++){var r=i[n];r.id===s&&(a.setState({backups:[r.backup[0],r.backup[1],r.backup[2],r.backup[3],r.backup[4]]}),a.deleteState(t))}},a.deleteState=function(t){var e=t.target.className,s=t.target.id,i=a.state.month_days[e];a.setState({start_hour:""}),a.setState({start_minute:""}),a.setState({end_hour:""}),a.setState({end_minute:""}),a.setState({formvalues:""});for(var n=0;n<i.length;n++)if(i[n].id===s){a.state.month_days[e].splice(n,1);break}},a.state={isSubmitted:!0,form_error:!1,month_days:{},selectedDate:"",backups:"",formvalues:"",start_hour:"",start_minute:"",end_hour:"",end_minute:"",back_color:""},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.Start_timeMinutes=a.Start_timeMinutes.bind(Object(l.a)(a)),a.Start_timeHours=a.Start_timeHours.bind(Object(l.a)(a)),a.End_timeHours=a.End_timeHours.bind(Object(l.a)(a)),a.End_timeMinutes=a.End_timeMinutes.bind(Object(l.a)(a)),a.tileColor=a.tileColor.bind(Object(l.a)(a)),a.closeModal=a.closeModal.bind(Object(l.a)(a)),a.keepModal=a.keepModal.bind(Object(l.a)(a)),a}return Object(u.a)(s,[{key:"getFormatDate",value:function(t){return"".concat(t.getFullYear()).concat(("0"+(t.getMonth()+1)).slice(-2)).concat(("0"+t.getDate()).slice(-2))}},{key:"openModal",value:function(t,e){"delete"===e.target.title?this.setState({isSubmitted:!0}):this.setState({isSubmitted:!1}),this.setState({selectedDate:t})}},{key:"closeModal",value:function(){this.setState({isSubmitted:!0}),this.setState({start_hour:""}),this.setState({start_minute:""}),this.setState({end_hour:""}),this.setState({end_minute:""})}},{key:"keepModal",value:function(t){"modal-back"===t.target.className&&(this.setState({isSubmitted:!0}),this.setState({start_hour:""}),this.setState({start_minute:""}),this.setState({end_hour:""}),this.setState({end_minute:""}))}},{key:"getTileContent",value:function(t){var e=this,s=t.date;if("month"!==t.view)return null;var i=this.getFormatDate(s);return Object(a.jsxs)("p",{children:[Object(a.jsx)("br",{}),this.state.month_days[i]&&this.state.month_days[i].map((function(t){return Object(a.jsxs)("div",{className:"plans",children:[Object(a.jsx)("button",{className:i,id:t.id,title:"delete",style:{backgroundColor:t.back_color},onClick:e.deleteState,children:"\xd7"}),Object(a.jsx)("button",{className:i,id:t.id,style:{backgroundColor:t.back_color},onClick:e.editState,children:t.text}),Object(a.jsx)("br",{})]})}))]})}},{key:"getUniqueStr",value:function(t){var e=1e3;return t&&(e=t),(new Date).getTime().toString(16)+Math.floor(e*Math.random()).toString(16)}},{key:"handleChange",value:function(t){var e=t.target.value;this.setState({formvalues:e})}},{key:"Start_timeHours",value:function(){for(var t=this,e=[],s=0;s<=23;s++)e.push(Object(a.jsx)("option",{value:s,children:s}));return Object(a.jsx)("select",{defaultValue:this.state.backups[0],onChange:function(e){t.setState({start_hour:e.target.value})},children:e})}},{key:"Start_timeMinutes",value:function(){for(var t=this,e=[],s=0;s<=50;s++){var i=("0"+s).slice(-2);i%10==0&&e.push(Object(a.jsx)("option",{value:i,children:i}))}return Object(a.jsx)("select",{defaultValue:this.state.backups[1],onChange:function(e){t.setState({start_minute:e.target.value})},children:e})}},{key:"End_timeHours",value:function(){var t=this,e=[],s=this.state.start_hour,i=this.state.end_hour,n=this.state.backups[2];(s||this.state.backups[0])&&!s&&this.state.backups[0]&&(s=this.state.backups[0]),!i&&n&&(i=n);for(var r=0;r<=23;r++)r>=s&&(r!=i?e.push(Object(a.jsx)("option",{value:r,children:r})):r==i&&e.push(Object(a.jsx)("option",{value:r,selected:!0,children:r})));return Object(a.jsx)("select",{defaultValue:this.state.backups[2],onChange:function(e){t.setState({end_hour:e.target.value})},children:e})}},{key:"End_timeMinutes",value:function(){var t=this,e=[],s=this.state.start_hour,i=this.state.end_minute,n=this.state.end_hour,r=this.state.backups[0],c=this.state.backups[1],o=this.state.backups[2],u="",l="",h=this.state.start_minute;if(!h&&c?h=c:!h&&c&&(h=0),u=s||r?!s&&r?r:s:"",n||o||u?n||!o||u?n||u!==r?!n&&s?l=s:n&&s>n?l=u:n&&(l=n):l=r:l=o:l="",u!==l){for(var d=0;d<=50;d++)if(d%10==0){var b=("0"+d).slice(-2);d!=i?e.push(Object(a.jsx)("option",{value:b,children:b})):e.push(Object(a.jsx)("option",{value:b,selected:!0,children:b}))}}else if(u===l)for(d=0;d<=50;d++)if(d%10==0&&d>=h){var p=("0"+d).slice(-2);d!=i?e.push(Object(a.jsx)("option",{value:p,children:p})):e.push(Object(a.jsx)("option",{value:p,selected:!0,children:p}))}return Object(a.jsx)("select",{defaultValue:this.state.backups[3],onChange:function(e){return t.setState({end_minute:e.target.value})},children:e})}},{key:"tileColor",value:function(){var t=this;return Object(a.jsxs)("select",{onChange:function(e){return t.setState({back_color:e.target.value})},children:[Object(a.jsx)("option",{children:"rgb(254 77 77)"}),Object(a.jsx)("option",{children:"rgb(77 128 254)"}),Object(a.jsx)("option",{children:"rgb(13 176 104)"}),Object(a.jsx)("option",{children:"rgb(154 22 229)"})]})}},{key:"handleSubmit",value:function(){this.setState({isSubmitted:!0});var t=this.getFormatDate(new Date(this.state.selectedDate)),e=this.state.month_days,s=Object.keys(e).indexOf(t),a=this.getUniqueStr();t=Number(t);var i=this.state.start_hour,n=this.state.start_minute,r=this.state.end_hour,c=this.state.end_minute,o=this.state.formvalues;!i&&this.state.backups[0]?i=this.state.backups[0]:i||this.state.backups[0]||(i="0"),!n&&this.state.backups[1]?n=this.state.backups[1]:n||this.state.backups[1]||(n="00"),!r&&this.state.backups[2]?r=this.state.start_hour>this.state.backups[2]?this.state.start_hour:this.state.backups[2]:r||this.state.backups[2]||!i||(r=i),!c&&this.state.backups[3]?c=this.state.backups[3]:c||this.state.backups[3]||!n||(c=n),!o&&this.state.backups[4]?o=this.state.backups[4]:o||this.state.backups[4]||(o=""),r<i&&(r=i),i===r&&n>c&&(c=n);var u=i+":"+n,l=r+":"+c;o||this.state.backups[4]?-1!==s?e[t].push({id:a,text:u+"\uff5e"+l+"\n"+o,backup:[i,n,r,c,o],back_color:this.state.back_color}):(o&&":"!==u||":"!==l)&&(e[t]=[{id:a,text:u+"\uff5e"+l+"\n"+o,backup:[i,n,r,c,o],back_color:this.state.back_color}]):this.setState({form_error:!0}),this.setState({month_days:e}),this.setState({backups:""}),this.setState({start_hour:""}),this.setState({start_minute:""}),this.setState({end_hour:""}),this.setState({end_minute:""}),this.setState({formvalues:""})}},{key:"componentDidMount",value:function(){if(localStorage.app){var t=JSON.parse(localStorage.app);this.setState({month_days:t.month_days})}}},{key:"componentDidUpdate",value:function(){localStorage.setItem("app",JSON.stringify(this.state))}},{key:"render",value:function(){var t=this;console.log(this.state);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{locale:"ja-JP",tileContent:function(e){var s=e.date,a=e.view;return t.getTileContent({date:s,view:a})},value:this.state.date,onClickDay:this.openModal.bind(this)}),Object(a.jsx)(m,{isSubmitted:this.state.isSubmitted,selectedDate:this.state.selectedDate,formvalues:this.state.formvalues,backups:this.state.backups,form_error:this.state.form_error,closeModal:this.closeModal,keepModal:this.keepModal,handleChange:this.handleChange,handleSubmit:this.handleSubmit,deleteState:this.deleteState,Start_timeHours:this.Start_timeHours,Start_timeMinutes:this.Start_timeMinutes,End_timeHours:this.End_timeHours,End_timeMinutes:this.End_timeMinutes,tileColor:this.tileColor})]})}}]),s}(n.a.Component);s(20);c.a.render(Object(a.jsx)(j,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.34a2baf6.chunk.js.map