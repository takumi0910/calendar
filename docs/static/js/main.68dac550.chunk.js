(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{45:function(t,e,s){},46:function(t,e,s){"use strict";s.r(e);var i=s(3),a=s(2),n=s.n(a),r=s(30),o=s.n(r),c=s(6),l=s(7),u=s(9),h=s(8),p=s(18),d=s(10),b=s(22);s(47),s(39);b.a.initializeApp({apiKey:"AIzaSyAYyz1BUToP7hUUzGCweDeEbBSCPqqrpwc",authDomain:"xxxxx",databaseURL:"xxxxx",projectId:"xxxxx",storageBucket:"xxxxx",messagingSenderId:"xxxxx",appId:"xxxxx"});b.a.firestore();var j=b.a,m=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var i;return Object(c.a)(this,s),(i=e.call(this,t)).handleLogin=function(){for(var t=i.state.userInformation,e=i.state.userNumber,s=i.state.mail,a=i.state.pass,n=0,r=0;r<e;r++)if(t[r].mail===s&&t[r].pass===a)localStorage.setItem("login",!0),i.props.history.push("/");else{if(t[r].mail===s){alert("\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059");break}if(t[r].pass===a){alert("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059");break}n+=1}n===e&&alert("\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\u5165\u529b\u5185\u5bb9\u3092\u304a\u78ba\u304b\u3081\u304f\u3060\u3055\u3044")},i.state={mail:"",pass:""},i}return Object(l.a)(s,[{key:"handleOnLogin",value:function(){var t=this;j.auth().signInWithEmailAndPassword(this.state.mail,this.state.pass).then((function(){console.log("success"),localStorage.setItem("login",!0),t.props.history.push("/")})).catch((function(){alert("error")}))}},{key:"registerMail",value:function(t){var e=t.target.value;this.setState({mail:e})}},{key:"registerPass",value:function(t){var e=t.target.value;this.setState({pass:e})}},{key:"componentWillMount",value:function(){if(localStorage.UserData){var t=JSON.parse(localStorage.UserData);this.setState({userInformation:t.userInformation,userNumber:t.userNumber})}}},{key:"render",value:function(){var t=this;return Object(i.jsx)("div",{className:"login-form",children:Object(i.jsxs)("div",{className:"main",children:[Object(i.jsx)("div",{className:"mail",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(i.jsx)("input",{type:"email",required:!0,placeholder:"example@gmail.com",onChange:this.registerMail.bind(this)}),Object(i.jsx)("div",{className:"pass",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(i.jsx)("input",{type:"text",required:!0,placeholder:"password",onChange:this.registerPass.bind(this)}),Object(i.jsx)("button",{className:"login-btn",onClick:function(){return t.handleOnLogin()},children:"\u30ed\u30b0\u30a4\u30f3"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"signup",children:"\u521d\u3081\u3066\u3054\u5229\u7528\u3055\u308c\u308b\u65b9\u306f\u3053\u3061\u3089"}),Object(i.jsx)(p.b,{to:"/signup",children:Object(i.jsx)("a",{className:"signup-link",children:"\u65b0\u898f\u767b\u9332"})})]})]})})}}]),s}(n.a.Component),g=Object(d.g)(m),v=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return"true"===localStorage.getItem("login")?this.props.children:Object(i.jsx)(d.a,{to:"/login"})}}]),s}(n.a.Component),O=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){var t;Object(c.a)(this,s);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))).handleLogout=function(){localStorage.setItem("login","false"),t.props.history.push("/")},t}return Object(l.a)(s,[{key:"render",value:function(){var t=this;return Object(i.jsx)("nav",{className:"top-menu",children:Object(i.jsxs)("ul",{className:"top-menu-content",children:[Object(i.jsx)("li",{children:Object(i.jsx)(p.c,{exact:!0,to:"/",children:"Calendar"})}),Object(i.jsx)("li",{children:Object(i.jsx)("span",{onClick:function(){return t.handleLogout()},children:"Logout"})})]})})}}]),s}(n.a.Component),f=Object(d.g)(O),k=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var i;return Object(c.a)(this,s),(i=e.call(this,t)).state={mail:"",pass:"",userNumber:0,OpenModal:!1,userInformation:{}},i}return Object(l.a)(s,[{key:"handleOnSubmit",value:function(){var t=this;j.auth().createUserWithEmailAndPassword(this.state.mail,this.state.pass).then((function(){t.props.history.push("/")})).catch((function(){console.log("error")}))}},{key:"registerMail",value:function(t){var e=t.target.value;this.setState({mail:e})}},{key:"registerPass",value:function(t){var e=t.target.value;this.setState({pass:e})}},{key:"plus",value:function(){var t=this.state.userNumber,e=this.state.userInformation;this.state.mail&&this.state.pass?(e[t]={mail:this.state.mail,pass:this.state.pass},this.setState({userNumber:t+1}),this.setState({userInformation:e}),this.setState({OpenModal:!0})):alert("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u7a7a\u6b04\u3067\u3059\u3002\u3054\u5165\u529b\u304f\u3060\u3055\u3044")}},{key:"componentWillMount",value:function(){if(localStorage.UserData){var t=JSON.parse(localStorage.UserData);this.setState({userInformation:t.userInformation,userNumber:t.userNumber})}}},{key:"componentDidUpdate",value:function(){localStorage.setItem("UserData",JSON.stringify(this.state))}},{key:"render",value:function(){var t,e=this;return console.log(this.state.mail),!0===this.state.OpenModal&&(t=Object(i.jsxs)("div",{className:"finish",children:[Object(i.jsx)("h2",{children:"\u767b\u9332\u5b8c\u4e86"}),Object(i.jsx)(p.b,{to:"/login",children:Object(i.jsx)("button",{children:"\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u3078"})})]})),Object(i.jsxs)("div",{className:"signup-form",children:[Object(i.jsx)("h2",{className:"signup-title",children:"\u65b0\u898f\u767b\u9332"}),Object(i.jsxs)("div",{className:"main",children:[Object(i.jsx)("div",{className:"mail",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(i.jsx)("input",{type:"email",required:!0,placeholder:"example@gmail.com",onChange:this.registerMail.bind(this)}),Object(i.jsx)("div",{className:"pass",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(i.jsx)("input",{type:"text",required:!0,placeholder:"password",onChange:this.registerPass.bind(this)}),Object(i.jsx)("button",{className:"login-btn",type:"submit",onClick:function(){return e.handleOnSubmit()},children:"\u767b\u9332"})]}),t]})}}]),s}(n.a.Component),x=Object(d.g)(k),y=s(32),S=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"handleTime",value:function(t){var e=t.target.value;this.props.setEndHour(e)}},{key:"selectEndHour",value:function(){var t=[],e=this.props.origin.startHour,s=Number(this.props.origin.endHour),a=Number(this.props.origin.backups[2]);(e||this.props.origin.backups[0])&&!e&&this.props.origin.backups[0]&&(e=this.props.origin.backups[0]),!s&&a&&(s=a);for(var n=0;n<=23;n++)n>=e&&(n===s?t.push(Object(i.jsx)("option",{value:n,selected:!0,children:n})):n!==s&&t.push(Object(i.jsx)("option",{value:n,children:n})));return Object(i.jsx)("select",{defaultValue:this.props.origin.backups[2],onChange:this.handleTime.bind(this),children:t})}},{key:"render",value:function(){return Object(i.jsx)("div",{children:this.selectEndHour()})}}]),s}(n.a.Component),C=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"handleTime",value:function(t){var e=t.target.value;this.props.setEndMinute(e)}},{key:"selectEndMinute",value:function(){var t=[],e=this.props.origin.startHour,s=this.props.origin.endMinute,a=this.props.origin.endHour,n=this.props.origin.backups[0],r=this.props.origin.backups[1],o=this.props.origin.backups[2],c="",l="",u=this.props.origin.startMinute;if(!u&&r?u=r:!u&&r&&(u=0),c=e||n?!e&&n?n:e:"",a||o||c?a||!o||c?a||c!==n?!a&&e?l=e:a&&e>a?l=c:a&&(l=a):l=n:l=o:l="",c!==l){for(var h=0;h<=50;h++)if(h%10===0){var p=("0"+h).slice(-2);h!==Number(s)?t.push(Object(i.jsx)("option",{value:p,children:p})):t.push(Object(i.jsx)("option",{value:p,selected:!0,children:p}))}}else if(c===l)for(var d=0;d<=50;d++)if(d%10===0&&d>=u){var b=("0"+d).slice(-2);d!==Number(s)?t.push(Object(i.jsx)("option",{value:b,children:b})):t.push(Object(i.jsx)("option",{value:b,selected:!0,children:b}))}return Object(i.jsx)("select",{defaultValue:this.props.origin.backups[3],onChange:this.handleTime.bind(this),children:t})}},{key:"render",value:function(){return Object(i.jsx)("div",{children:this.selectEndMinute()})}}]),s}(n.a.Component),N=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"handleTime",value:function(t){var e=t.target.value;this.props.setStartHour(e)}},{key:"selectStartHour",value:function(){for(var t=[],e=0;e<=23;e++)t.push(Object(i.jsx)("option",{value:e,children:e}));return Object(i.jsx)("select",{defaultValue:this.props.backups[0],onChange:this.handleTime.bind(this),children:t})}},{key:"render",value:function(){return Object(i.jsx)("div",{children:this.selectStartHour()})}}]),s}(n.a.Component),M=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"handleTime",value:function(t){var e=t.target.value;this.props.setTileColor(e)}},{key:"render",value:function(){var t=this.props.backups[5];return Object(i.jsx)("input",{type:"color",defaultValue:t,onChange:this.handleTime.bind(this)})}}]),s}(n.a.Component),D=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"handleTime",value:function(t){var e=t.target.value;this.props.setStartMinute(e)}},{key:"selectStartMinute",value:function(){for(var t=[],e=0;e<=50;e++){var s=("0"+e).slice(-2);s%10===0&&t.push(Object(i.jsx)("option",{value:s,children:s}))}return Object(i.jsx)("select",{defaultValue:this.props.backups[1],onChange:this.handleTime.bind(this),children:t})}},{key:"render",value:function(){return Object(i.jsx)("div",{children:this.selectStartMinute()})}}]),s}(n.a.Component),H=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"getUniqueStr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return(new Date).getTime().toString(16)+Math.floor(t*Math.random()).toString(16)}},{key:"formatDate",value:function(t){var e=new Date(t);return e.getFullYear()+"\u5e74"+(e.getMonth()+1)+"\u6708"+e.getDate()+"\u65e5"}},{key:"defaultForm",value:function(){if(null!==this.props.origin.backups[4])return this.props.origin.backups[4]}},{key:"submit",value:function(){this.props.handleClose();var t=this.props.getFormatDate(new Date(this.props.origin.selectedDate)),e=this.props.origin.month_days,s=Object.keys(e).indexOf(t),i=this.getUniqueStr();t=Number(t);var a=this.props.origin.startHour,n=this.props.origin.startMinute,r=this.props.origin.endHour,o=this.props.origin.endMinute,c=this.props.origin.formValues,l="";!a&&this.props.origin.backups[0]?a=this.props.origin.backups[0]:a||this.props.origin.backups[0]||(a="0"),!n&&this.props.origin.backups[1]?n=this.props.origin.backups[1]:n||this.props.origin.backups[1]||(n="00"),!r&&this.props.origin.backups[2]?r=this.props.origin.startHour>this.props.origin.backups[2]?this.props.origin.startHour:this.props.origin.backups[2]:r||this.props.origin.backups[2]||!a||(r=a),!o&&this.props.origin.backups[3]?o=this.props.origin.backups[3]:o||this.props.origin.backups[3]||!n||(o=n),!c&&this.props.origin.backups[4]?c=this.props.origin.backups[4]:c||this.props.origin.backups[4]||(c=""),l=!this.props.origin.backColor&&this.props.origin.backups[5]?this.props.origin.backups[5]:this.props.origin.backColor||this.props.origin.backups[5]?this.props.origin.backColor:"black",r<a&&(r=a),a===r&&n>o&&(o=n);var u=a+":"+n,h=r+":"+o;-1!==s?e[t].push({id:i,text:u+"\uff5e"+h+"\n"+c,backup:[a,n,r,o,c],backColor:l}):(c&&":"!==u||":"!==h)&&(e[t]=[{id:i,text:u+"\uff5e"+h+"\n"+c,backup:[a,n,r,o,c],backColor:l}]),this.props.setPlans(e),this.props.handleDelete(),this.props.inputDelete()}},{key:"render",value:function(){var t;return!1===this.props.origin.isSubmitted&&(t=Object(i.jsx)("form",{onSubmit:this.submit.bind(this),children:Object(i.jsx)("div",{className:"modal-back",onClick:this.props.keepModal,children:Object(i.jsxs)("div",{className:"modal ",children:[Object(i.jsxs)("div",{className:"modal-top",children:[Object(i.jsx)("button",{className:"close-button",onClick:this.props.closeModal,children:"\xd7"}),Object(i.jsx)("div",{className:"add-plans",children:"\u4e88\u5b9a\u767b\u9332"})]}),Object(i.jsxs)("div",{className:"modal-main",children:[Object(i.jsxs)("div",{className:"time",children:[Object(i.jsxs)("p",{children:["\u9078\u629e\u3057\u305f\u65e5 : ",this.formatDate(this.props.origin.selectedDate)]}),Object(i.jsx)("p",{className:"plans-time",children:"\u4e88\u5b9a\u6642\u9593"}),Object(i.jsxs)("div",{className:"time-box",children:[Object(i.jsx)(N,{setStartHour:this.props.setStartHour.bind(this),backups:this.props.origin.backups}),Object(i.jsx)("p",{children:":"}),Object(i.jsx)(D,{setStartMinute:this.props.setStartMinute.bind(this),backups:this.props.origin.backups}),Object(i.jsx)("p",{children:"\uff5e"}),Object(i.jsx)(S,{setEndHour:this.props.setEndHour.bind(this),origin:this.props.origin}),Object(i.jsx)("p",{children:":"}),Object(i.jsx)(C,{setEndMinute:this.props.setEndMinute.bind(this),origin:this.props.origin})]}),Object(i.jsxs)("div",{className:"select-color",children:[Object(i.jsx)("p",{children:"\u4e88\u5b9a\u306e\u80cc\u666f\u8272"}),Object(i.jsx)(M,{setTileColor:this.props.setTileColor.bind(this),backups:this.props.origin.backups})]})]}),Object(i.jsx)("p",{className:"plan-contents",children:"\u4e88\u5b9a\u306e\u5185\u5bb9"}),Object(i.jsx)("input",{required:!0,onChange:this.props.handleChange,defaultValue:this.defaultForm()}),Object(i.jsx)("input",{className:"submit-btn",type:"submit",value:"\u767b\u9332"})]})]})})})),Object(i.jsx)("div",{children:t})}}]),s}(n.a.Component),E=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var i;return Object(c.a)(this,s),(i=e.call(this,t)).editState=function(t){for(var e=t.target.className,s=t.target.id,a=i.state.month_days[e],n=0;n<a.length;n++){var r=a[n];r.id===s&&(i.setState({backups:[r.backup[0],r.backup[1],r.backup[2],r.backup[3],r.backup[4],r.back_color]}),i.deleteState(t))}},i.deleteState=function(t){var e=t.target.className,s=t.target.id,a=i.state.month_days[e];i.inputDelete();for(var n=0;n<a.length;n++)if(a[n].id===s){i.state.month_days[e].splice(n,1);break}},i.state={isSubmitted:!0,month_days:{},selectedDate:"",backups:"",formValues:"",startHour:"",startMinute:"",endHour:"",endMinute:"",backColor:"",title:""},i}return Object(l.a)(s,[{key:"getFormatDate",value:function(t){return"".concat(t.getFullYear()).concat(("0"+(t.getMonth()+1)).slice(-2)).concat(("0"+t.getDate()).slice(-2))}},{key:"openModal",value:function(t,e){"delete"===e.target.title?this.setState({isSubmitted:!0}):this.setState({isSubmitted:!1}),this.setState({selectedDate:t})}},{key:"inputDelete",value:function(){this.setState({startHour:""}),this.setState({startMinute:""}),this.setState({endHour:""}),this.setState({endMinute:""}),this.setState({formValues:""}),this.setState({backColor:""})}},{key:"closeModal",value:function(){this.setState({isSubmitted:!0}),this.setState({backups:""}),this.inputDelete()}},{key:"keepModal",value:function(t){"modal-back"===t.target.className&&this.closeModal()}},{key:"getTileContent",value:function(t){var e=this,s=t.date;if("month"!==t.view)return null;var a=this.getFormatDate(s);return Object(i.jsxs)("p",{children:[Object(i.jsx)("br",{}),this.state.month_days[a]&&this.state.month_days[a].map((function(t){return Object(i.jsxs)("div",{className:"plans",children:[Object(i.jsx)("button",{className:a,id:t.id,title:"delete",style:{backgroundColor:t.backColor},onClick:e.deleteState,children:"\xd7"}),Object(i.jsx)("button",{className:a,id:t.id,style:{backgroundColor:t.backColor},onClick:e.editState,children:t.text}),Object(i.jsx)("br",{})]})}))]})}},{key:"setStartHour",value:function(t){this.setState({startHour:t})}},{key:"setStartMinute",value:function(t){this.setState({startMinute:t})}},{key:"setEndHour",value:function(t){this.setState({endHour:t})}},{key:"setEndMinute",value:function(t){this.setState({endMinute:t})}},{key:"setTileColor",value:function(t){this.setState({backColor:t})}},{key:"handleChange",value:function(t){var e=t.target.value;this.setState({formValues:e})}},{key:"setPlans",value:function(t){this.setState({month_days:t})}},{key:"handleClose",value:function(){this.setState({isSubmitted:!0})}},{key:"handleDelete",value:function(){this.setState({backups:""})}},{key:"componentDidMount",value:function(){if(localStorage.app){var t=JSON.parse(localStorage.app);this.setState({month_days:t.month_days})}}},{key:"componentDidUpdate",value:function(){localStorage.setItem("app",JSON.stringify(this.state))}},{key:"render",value:function(){var t=this;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(y.a,{locale:"ja-JP",tileContent:function(e){var s=e.date,i=e.view;return t.getTileContent({date:s,view:i})},value:this.state.date,onClickDay:this.openModal.bind(this)}),Object(i.jsx)(H,{getFormatDate:this.getFormatDate.bind(this),handleChange:this.handleChange.bind(this),setStartHour:this.setStartHour.bind(this),setStartMinute:this.setStartMinute.bind(this),setEndHour:this.setEndHour.bind(this),setEndMinute:this.setEndMinute.bind(this),setTileColor:this.setTileColor.bind(this),closeModal:this.closeModal.bind(this),keepModal:this.keepModal.bind(this),setPlans:this.setPlans.bind(this),handleClose:this.handleClose.bind(this),handleDelete:this.handleDelete.bind(this),inputDelete:this.inputDelete.bind(this),origin:this.state,date:this.date})]})}}]),s}(n.a.Component),I=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(i.jsx)(p.a,{children:Object(i.jsxs)(d.d,{children:[Object(i.jsx)(d.b,{exact:!0,path:"/login",component:g}),Object(i.jsx)(d.b,{exact:!0,path:"/signup",component:x}),Object(i.jsxs)(v,{children:[Object(i.jsx)(f,{}),Object(i.jsx)(E,{})]})]})})}}]),s}(n.a.Component);s(45);o.a.render(Object(i.jsx)(I,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.68dac550.chunk.js.map